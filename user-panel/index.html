<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raman Vada Pav</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #e23744; --secondary: #ff9f43; --light: #f9f9f9; --dark: #333; --gray: #777; --success: #2ecc71; --out-of-stock: #d32f2f; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background-color: #f4f4f4; color: var(--dark); padding-bottom: 70px; padding-top: 60px; }
        .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 15px; }
        header { background-color: white; position: fixed; top: 0; left: 0; right: 0; padding: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 100; display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; cursor: pointer; } .logo-img { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-right: 10px; border: 2px solid var(--primary); } .shop-name { font-weight: 700; color: var(--primary); }
        .page { display: none; padding: 20px 0; animation: fadeIn 0.3s ease; } .page.active { display: block; } @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        nav { position: fixed; bottom: 0; left: 0; right: 0; background: white; display: flex; justify-content: space-around; padding: 12px 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); z-index: 100; }
        .nav-item { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: var(--gray); font-size: 0.8rem; } .nav-item.active { color: var(--primary); } .nav-item i { font-size: 1.2rem; margin-bottom: 4px; }
        .section-title { margin-bottom: 20px; font-size: 1.5rem; color: var(--dark); position: relative; padding-bottom: 10px; } .section-title::after { content: ''; position: absolute; bottom: 0; left: 0; width: 50px; height: 3px; background-color: var(--primary); }
        .food-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; } .food-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); } .food-img { width: 100%; height: 180px; object-fit: cover; } .food-info { padding: 15px; } .food-title { font-weight: 600; margin-bottom: 8px; } .food-desc { color: var(--gray); font-size: 0.9rem; margin-bottom: 12px; } .food-footer { display: flex; justify-content: space-between; align-items: center; } .food-price { font-weight: 700; color: var(--primary); } .add-btn { width: 30px; height: 30px; border-radius: 50%; background: var(--primary); color: white; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .order-card { background: white; border-radius: 10px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .order-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .order-item-images { display: flex; gap: 8px; margin: 10px 0; padding-bottom: 10px; border-bottom: 1px solid #eee; overflow-x: auto; } .order-item-img { width: 40px; height: 40px; border-radius: 8px; object-fit: cover; flex-shrink: 0; }
        .order-status { display: flex; justify-content: space-between; margin: 20px 0; position: relative; }
        .status-step { flex: 1; display: flex; flex-direction: column; align-items: center; background: #fff; z-index: 1; }
        .status-icon { width: 30px; height: 30px; border-radius: 50%; background: #ddd; display: flex; align-items: center; justify-content: center; margin-bottom: 8px; color: white; }
        .status-step.active .status-icon { background: var(--success); }
        .status-name { font-size: 0.7rem; text-align: center; }
        .progress-bar { position: absolute; top: 15px; height: 2px; background: #ddd; left: 10%; right: 10%; z-index: 0; }
        .progress-fill { height: 100%; background: var(--success); transition: width 0.5s ease; }
        .profile-display-card, .profile-form, .policy-page { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .profile-header { display: flex; align-items: center; gap: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee; margin-bottom: 15px; }
        .profile-dp-container { width: 60px; height: 60px; border-radius: 50%; border: 2px solid var(--primary); overflow: hidden; position: relative; flex-shrink: 0; }
        .profile-dp { width: 100%; height: 100%; object-fit: cover; }
        .initials-avatar { width: 100%; height: 100%; background-color: var(--secondary); color: white; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; }
        .profile-user-info { flex: 1; } .link-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #eee; text-decoration: none; color: var(--dark); cursor: pointer; } .link-item:last-child { border: none; }
        .link-content { display: flex; align-items: center; gap: 15px; }
        .developer-details { display: flex; align-items: center; gap: 10px; } .developer-img { width: 45px; height: 45px; border-radius: 50%; object-fit: cover; } .name-pink { color: #E91E63; } .name-green { color: #4CAF50; }
        .form-group { margin-bottom: 20px; } .form-group label { display: block; margin-bottom: 8px; font-weight: 600; } .form-group input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; } .save-btn { width: 100%; padding: 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: 600; }
        .cart-item { display: flex; align-items: center; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee; } .cart-item:last-child { border-bottom: none; } .cart-item-img { width: 70px; height: 70px; object-fit: cover; border-radius: 8px; margin-right: 15px; } .cart-item-info { flex: 1; } .cart-item-title { font-weight: 600; margin-bottom: 5px; } .cart-item-price { color: var(--primary); font-weight: 600; }
        .quantity-control { display: flex; align-items: center; margin-top: 8px; } .quantity-btn { width: 25px; height: 25px; border-radius: 50%; background: #eee; border: none; display: flex; align-items: center; justify-content: center; cursor: pointer; } .quantity { margin: 0 10px; font-weight: 600; }
        .cart-total, .cart-delivery { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-top: 20px; }
        .total-row { display: flex; justify-content: space-between; margin-bottom: 10px; } .grand-total { font-weight: 700; font-size: 1.2rem; color: var(--primary); margin-top: 10px; padding-top: 10px; border-top: 1px dashed #ddd; }
        .confirm-order-btn { background: var(--primary); color: white; border: none; padding: 15px; border-radius: 8px; font-weight: 600; cursor: pointer; width: 100%; font-size: 1.1rem; margin-top: 20px; }
        .shop-details-page { position: relative; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .shop-info { display: flex; align-items: flex-start; margin-bottom: 15px; padding: 15px; background: var(--light); border-radius: 8px; }
        .back-to-menu-top-right { position: absolute; top: 15px; right: 15px; background: var(--primary); color: white; border: none; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.2); z-index: 10; display: flex; align-items: center; justify-content: center; }
        .opening-hours-container { cursor: pointer; } .hours-toggle-icon { transition: transform 0.3s ease; } .hours-toggle-icon.expanded { transform: rotate(180deg); }
        #fullHoursChart { display: none; }
        .opening-hours-list li { display: flex; justify-content: space-between; padding: 8px 5px; border-bottom: 1px dashed #eee; font-size: 0.9rem; } .day { font-weight: 600; } .status-open { color: var(--success); font-weight: bold; } .status-closed { color: var(--out-of-stock); font-weight: bold; }
        .policy-page .back-btn { margin-bottom: 20px; font-weight: bold; color: var(--primary); cursor:pointer; }
    </style>
</head>
<body>
    <header>
        <div class="logo" id="shopLogo"><img src="" class="logo-img"><div class="shop-name">Loading...</div></div>
    </header>
    <div class="container">
        <section id="menuPage" class="page active"><h2 class="section-title">Our Menu</h2><div class="food-grid"></div></section>
        <section id="ordersPage" class="page"><h2 class="section-title">My Orders</h2><div class="orders-list"></div></section>
        <section id="cartPage" class="page"><h2 class="section-title">My Cart</h2><div class="cart-items" style="background:white; padding: 15px; border-radius: 10px;"></div><div class="cart-total"><div class="total-row"><span>Subtotal</span><span id="subtotalEl">₹0.00</span></div><div class="total-row"><span>Delivery Fee</span><span id="deliveryFeeEl">₹0.00</span></div><div class="total-row grand-total"><span>Total</span><span id="totalEl">₹0.00</span></div></div><div class="cart-delivery"><div style="display:flex; justify-content: space-between; align-items:center; margin-bottom: 15px;"><h3 style="font-size:1.1rem;">Delivery Information</h3><button class="edit-btn" onclick="showPage('profilePage')" style="background:var(--success);color:white;border:none;padding:5px 15px;border-radius:20px;cursor:pointer;">Edit</button></div><input type="text" id="checkoutName" placeholder="Full Name" readonly style="width:100%;padding:12px;border:1px solid #ddd;border-radius:5px;margin-bottom:10px;background:#f9f9f9;"><input type="text" id="checkoutAddress" placeholder="Address" readonly style="width:100%;padding:12px;border:1px solid #ddd;border-radius:5px;background:#f9f9f9;"></div><button class="confirm-order-btn" onclick="confirmOrder()">Confirm Order</button></section>
        <section id="profilePage" class="page"><h2 class="section-title">My Profile</h2><div id="profileDisplayCard" class="profile-display-card" style="display:none;"></div><div id="profileForm" class="profile-form" style="display:none;"><div class="form-group"><label for="name">Full Name</label><input type="text" id="name"></div><div class="form-group"><label for="mobile">Mobile Number</label><input type="tel" id="mobile"></div><div class="form-group"><label for="address">Address</label><input type="text" id="address"></div><div class="form-group"><label for="pincode">Pincode</label><input type="text" id="pincode"></div><div class="form-group"><label for="profileDpUrl">DP Image URL (Optional)</label><input type="url" id="profileDpUrl"></div><button class="save-btn" onclick="saveProfile()">Save Information</button></div></section>
        <section id="shopDetailsPage" class="page"><div class="shop-details-page" id="shopDetailsContent"></div></section>
        <section id="privacyPage" class="page policy-page"><a class="back-btn" onclick="showPage('profilePage')">&lt; Back to Profile</a><h2 class="section-title">Privacy Policy</h2><p>We collect your details solely for delivering your food orders. We do not share this information with third parties.</p></section>
        <section id="termsPage" class="page policy-page"><a class="back-btn" onclick="showPage('profilePage')">&lt; Back to Profile</a><h2 class="section-title">Terms & Conditions</h2><p>All orders are subject to availability. Payments are processed upon order confirmation. All transactions are final.</p></section>
    </div>
    <nav><a href="#" class="nav-item active" data-page="menuPage"><i class="fas fa-home"></i><span>Menu</span></a><a href="#" class="nav-item" data-page="ordersPage"><i class="fas fa-receipt"></i><span>My Orders</span></a><a href="#" class="nav-item" data-page="cartPage"><i class="fas fa-shopping-cart"></i><span>Cart (<span class="cart-count">0</span>)</span></a><a href="#" class="nav-item" data-page="profilePage"><i class="fas fa-user"></i><span>Profile</span></a></nav>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <script>
      const firebaseConfig = {
          apiKey: "AIzaSyD1QEf2wmpnNH6JMeDQpKoExWlaJzM4VYs",
          authDomain: "my-shope-raman.firebaseapp.com",
          databaseURL: "https://my-shope-raman-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "my-shope-raman",
          storageBucket: "my-shope-raman.appspot.com",
          messagingSenderId: "1058019322311",
          appId: "1:1058019322311:web:240c7eeba4be628bc911e2"
      };
      firebase.initializeApp(firebaseConfig);
      const database = firebase.database();
    </script>

    <script>
        let menuItems=[], orders=[], cart=JSON.parse(localStorage.getItem('cart'))||[], userProfile={}, shopInfo={};
        const showPage=p=>{document.querySelectorAll('.page').forEach(e=>e.classList.remove('active'));document.getElementById(p).classList.add('active');document.querySelectorAll('.nav-item').forEach(e=>e.classList.toggle('active',e.dataset.page===p));if(p==='cartPage')updateCartPage();if(p==='profilePage')loadProfile()};
        const getInitials=(n='?')=>(n.match(/\b\w/g)||[]).slice(0,2).join('').toUpperCase();
        
        database.ref('menuItems').on('value',s=>{const d=s.val();menuItems=d?Object.values(d).filter(i=>i&&i.available):[];document.querySelector('.food-grid').innerHTML=menuItems.map(i=>`<div class="food-card"><img src="${i.image}" class="food-img"><div class="food-info"><h3 class="food-title">${i.name}</h3><p class="food-desc">${i.desc}</p><div class="food-footer"><div class="food-price">₹${i.price}</div><button class="add-btn" onclick="addToCart(${i.id})">+</button></div></div></div>`).join('')});
        database.ref('shopInfo').on('value',s=>{shopInfo=s.val()||{};const l=document.querySelector('.logo-img');const n=document.querySelector('.shop-name');if(l)l.src=shopInfo.logoCircle||'';if(n)n.textContent=shopInfo.name||'Loading...';renderShopDetails()});
        database.ref('userProfile').on('value',s=>{userProfile=s.val()||{};loadProfile();updateCartPage()});
        database.ref('orders').on('value',s=>{const d=s.val();orders=d?Object.values(d):[];renderOrders()});
        
        const saveProfile=()=>{const p={name:document.getElementById('name').value,mobile:document.getElementById('mobile').value,address:document.getElementById('address').value,pincode:document.getElementById('pincode').value,dpUrl:document.getElementById('profileDpUrl').value};if(!p.name||!p.address)return alert('Name and Address are required.');database.ref('userProfile').set(p).then(()=>alert('Profile Saved!'))};
        const loadProfile=()=>{const p=userProfile;document.getElementById('profileDisplayCard').innerHTML=`<div class="profile-header"><div class="profile-dp-container"><img src="${p?.dpUrl||''}" style="display:${p?.dpUrl?'block':'none'}" class="profile-dp"><div class="initials-avatar" style="display:${!p?.dpUrl?'flex':'none'}">${getInitials(p?.name)}</div></div><div class="profile-user-info"><h4>${p?.name||'Guest User'}</h4><p>${p?.address||'No address set'}</p></div><button onclick="toggleProfileEdit(true)" class="edit-btn" style="background:var(--light);border:1px solid #ddd;padding:8px 15px;border-radius:20px;">Edit</button></div><div class="profile-links"><div class="link-item" onclick="showPage('privacyPage')"><div class="link-content"><i class="fas fa-shield-alt"></i><span>Privacy Policy</span></div><i class="fas fa-chevron-right"></i></div><div class="link-item" onclick="showPage('termsPage')"><div class="link-content"><i class="fas fa-file-contract"></i><span>Terms & Conditions</span></div><i class="fas fa-chevron-right"></i></div><div class="link-item"><div class="link-content"><i class="fas fa-info-circle"></i><span>App Version</span></div><span>1.2</span></div><a href="https://whatsapp.com/channel/0029Vb0dS3e3bbV4T5EGDu1q" target="_blank" class="link-item"><div class="link-content"><i class="fas fa-code"></i><span>Developer</span></div><div class="developer-details"><img src="https://envs.sh/euz.jpg/IMG20250831172.jpg" class="developer-img"><span><span class="name-pink">Divyansh</span><span class="name-green">Deewana</span></span></div></a></div>`;if(p){Object.keys(p).forEach(k=>{const e=document.getElementById(k);if(e)e.value=p[k]})};toggleProfileEdit(!p.name)};
        const toggleProfileEdit=e=>{document.getElementById('profileDisplayCard').style.display=e?'none':'block';document.getElementById('profileForm').style.display=e?'block':'none'};
        const addToCart=id=>{const i=cart.find(c=>c.id===id);const m=menuItems.find(x=>x.id===id);if(!m)return;if(i)i.quantity++;else cart.push({...m,quantity:1});updateCartCount();localStorage.setItem('cart',JSON.stringify(cart))};
        const updateCartCount=()=>{document.querySelectorAll('.cart-count').forEach(e=>e.textContent=cart.reduce((s,i)=>s+i.quantity,0))};
        const updateQuantity=(id,c)=>{const i=cart.findIndex(i=>i.id===id);if(i>-1){cart[i].quantity+=c;if(cart[i].quantity<=0)cart.splice(i,1)}updateCartPage();updateCartCount();localStorage.setItem('cart',JSON.stringify(cart))};
        const updateCartPage=()=>{document.querySelector('.cart-items').innerHTML=cart.map(i=>`<div class="cart-item"><img src="${i.image}" class="cart-item-img"><div class="cart-item-info"><div class="cart-item-title">${i.name}</div><div class="cart-item-price">₹${i.price*i.quantity}</div><div class="quantity-control"><button class="quantity-btn" onclick="updateQuantity(${i.id},-1)">-</button><span class="quantity">${i.quantity}</span><button class="quantity-btn" onclick="updateQuantity(${i.id},1)">+</button></div></div></div>`).join('')||'<p style="text-align:center;color:var(--gray);">Your cart is empty.</p>';const s=cart.reduce((s,i)=>s+(i.price*i.quantity),0),f=s>0?30:0;document.getElementById('subtotalEl').textContent=`₹${s.toFixed(2)}`;document.getElementById('deliveryFeeEl').textContent=`₹${f.toFixed(2)}`;document.getElementById('totalEl').textContent=`₹${(s+f).toFixed(2)}`;const p=userProfile;if(p){document.getElementById('checkoutName').value=p.name||'';document.getElementById('checkoutAddress').value=p.address||''}};
        const confirmOrder=()=>{if(!cart.length)return alert('Cart is empty!');if(!userProfile.name||!userProfile.address)return alert('Please save your name and address in Profile first.');const s=cart.reduce((s,i)=>s+(i.price*i.quantity),0);const n={id:`ORD${Date.now()}`,date:new Date().toLocaleDateString('en-IN'),status:0,items:[...cart],total:s+(s>0?30:0),customerName:userProfile.name,customerAddress:userProfile.address};database.ref('orders/'+n.id).set(n).then(()=>{alert('Order Placed!');cart=[];localStorage.setItem('cart','[]');updateCartCount();renderOrders();showPage('ordersPage')})};
        const renderOrders=()=>{const s=["Placed","Accepted","Preparing","On its way","Delivered"];document.querySelector('.orders-list').innerHTML=orders.sort((a,b)=>b.id.localeCompare(a.id)).map(o=>`<div class="order-card"><div class="order-header"><div>#${o.id.slice(-6)}</div><div>${o.date}</div></div><div class="order-item-images">${o.items.map(i=>`<img src="${i.image}" title="${i.quantity}x ${i.name}" class="order-item-img">`).join('')}</div><div class="order-status"><div class="progress-bar"><div class="progress-fill" style="width:${o.status*(100/(s.length-1))}%"></div></div>${s.map((e,i)=>`<div class="status-step ${o.status>=i?'active':''}"><div class="status-icon">${o.status>=i?'✓':''}</div><div class="status-name">${e}</div></div>`).join('')}</div></div>`).join('')||'<p>You have no orders yet.</p>'};
        const renderShopDetails=()=>{const c=document.getElementById('shopDetailsContent');if(!c||!shopInfo.name)return; c.innerHTML=`<button class="back-to-menu-top-right" onclick="showPage('menuPage')"><i class="fas fa-times"></i></button><h2 class="section-title">Shop Details</h2><img src="${shopInfo.banner||''}" style="width:100%;height:200px;object-fit:cover;border-radius:10px;margin-bottom:20px;"><h2 style="font-size:1.8rem;color:var(--primary);margin-bottom:10px;text-align:center;">${shopInfo.name}</h2><p style="text-align:center;font-family:'Dancing Script',cursive;font-size:1.4rem;margin-bottom:25px;">${shopInfo.slogan}</p><div class="shop-info"><i class="fas fa-map-marker-alt" style="margin-right:15px;color:var(--primary);margin-top:4px;"></i><div><div style="font-weight:600;margin-bottom:8px;">Address</div><a href="${shopInfo.mapUrl||'#'}" target="_blank" style="color:var(--dark); text-decoration: none; line-height: 1.4;">${shopInfo.address}</a></div></div><div class="shop-info opening-hours-container" onclick="toggleHoursChart()"><i class="fas fa-clock" style="margin-right:15px;color:var(--primary);margin-top:4px;"></i><div><div style="display:flex; justify-content:space-between; align-items:center; width:100%;"><div style="font-weight:600;margin-bottom:8px;">Opening Hours</div><i id="hoursToggleIcon" class="fas fa-chevron-down hours-toggle-icon"></i></div><div id="summaryHours"></div><ul id="fullHoursChart" class="opening-hours-list" style="list-style:none;padding:0; margin-top:10px;"></ul></div></div>`};
        const toggleHoursChart=()=>{const c=document.getElementById('fullHoursChart');const i=document.getElementById('hoursToggleIcon');c.style.display=c.style.display==='none'?'block':'none';i.classList.toggle('expanded')};
        document.addEventListener('DOMContentLoaded',()=>{loadProfile();renderOrders();updateCartCount();document.querySelectorAll('.nav-item').forEach(i=>i.addEventListener('click',e=>{e.preventDefault();showPage(i.dataset.page)}));document.getElementById('shopLogo').addEventListener('click',()=>showPage('shopDetailsPage'))});
    </script>
</body>
</html>
--- START OF FILE ai_studio_code (59).html ---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Raman Vada Pav</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #e23744; --secondary: #ff9f43; --light: #f9f9f9;
            --dark: #333; --gray: #777; --success: #27ae60; --info: #2980b9;
            --danger: #c0392b; --bg-light: #f4f7f9; --border-color: #e8e8e8;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        
        body { background-color: var(--bg-light); display: flex; height: 100vh; overflow: hidden; }

        /* --- Login --- */
        #login-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-light); display: flex; justify-content: center; align-items: center; z-index: 1000; }
        .login-box { background: white; padding: 40px; border-radius: 12px; text-align: center; width: 90%; max-width: 360px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .login-box h3 { color: var(--primary); font-size: 1.8rem; margin-bottom: 20px; }
        .login-box input { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 15px; }
        .btn { padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; color: white; font-weight: 600; font-size: 1rem; transition: all 0.2s ease; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .btn-primary { background-color: var(--primary); }
        
        /* --- Layout --- */
        .sidebar { width: 250px; background: white; display: flex; flex-direction: column; height: 100vh; position: fixed; z-index: 100; box-shadow: 2px 0 10px rgba(0,0,0,0.05); transition: transform 0.3s ease-in-out; }
        .sidebar-header { padding: 20px; text-align: center; border-bottom: 1px solid var(--border-color); }
        .sidebar-header h2 { color: var(--primary); }
        .sidebar-nav { list-style: none; padding: 10px 0; }
        .nav-item a { display: flex; align-items: center; gap: 15px; padding: 15px 20px; color: var(--dark); text-decoration: none; border-left: 4px solid transparent; transition: all 0.3s; }
        .nav-item a:hover, .nav-item a.active { background: #ffeef0; color: var(--primary); border-left-color: var(--primary); font-weight: 600; }
        .nav-item a i { width: 20px; text-align: center; }

        .main-container { flex-grow: 1; margin-left: 250px; display: none; flex-direction: column; height: 100vh; }
        .main-header { background: white; padding: 15px 25px; display: flex; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); z-index: 50; }
        #menu-toggle { display: none; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--dark); margin-right: 15px; }
        #page-title { font-size: 1.5rem; font-weight: 600; color: var(--dark); }

        .main-content { flex-grow: 1; padding: 25px; overflow-y: auto; }
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.03); margin-bottom: 25px; }
        .card-header { font-size: 1.3rem; font-weight: 600; color: var(--dark); margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color); }
        
        /* --- Dashboard --- */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
        .stat-card { background: white; padding: 20px; border-radius: 10px; border: 1px solid var(--border-color); text-align: center;}
        .stat-card i { font-size: 1.8rem; color: var(--primary); margin-bottom: 10px; }
        .stat-card h3 { font-size: 2rem; color: var(--dark); }
        .stat-card p { color: var(--gray); }

        /* --- Forms --- */
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; background: #fdfdfd; }
        .btn-success { background-color: var(--success); }
        .btn-secondary { background-color: var(--gray); }
        .btn-danger { background-color: var(--danger); }

        /* --- Status Tags --- */
        .status-tag { padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; color: white; text-transform: uppercase; }
        .status-placed { background-color: var(--info); }
        .status-accepted { background-color: var(--secondary); }
        .status-preparing { background-color: #e67e22; }
        .status-on-its-way { background-color: #8e44ad; }
        .status-delivered { background-color: var(--success); }
        .status-instock { background-color: var(--success); }
        .status-outofstock { background-color: var(--danger); }
        
        .empty-state { text-align: center; padding: 40px; }
        .empty-state i { font-size: 3rem; color: #ccc; margin-bottom: 15px; }
        .empty-state p { font-size: 1.1rem; color: var(--gray); }

        #mobile-menu-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); z-index: 99; display: none; }
        
        /* --- Mobile Responsive --- */
        @media (max-width: 768px) {
            .sidebar { transform: translateX(-100%); z-index: 1001; }
            .sidebar.active { transform: translateX(0); }
            .main-container { margin-left: 0; }
            #menu-toggle { display: block; }
            .main-content, .main-header { padding: 15px; }
            .card { padding: 15px; }
            #page-title, .card-header { font-size: 1.2rem; }
        }
    </style>
</head>
<body>
    <div id="login-overlay"><div class="login-box"><h3>Admin Login</h3><div class="form-group"><input type="text" id="username" placeholder="Username" value="admin"></div><div class="form-group"><input type="password" id="password" placeholder="Password" value="password"></div><button class="btn btn-primary" onclick="handleLogin()">Login</button></div></div>
    
    <div id="mobile-menu-overlay" onclick="toggleMenu()"></div>

    <aside class="sidebar" id="sidebar" style="display:none;">
        <div class="sidebar-header"><h2>Raman Vada Pav</h2></div>
        <ul class="sidebar-nav">
            <li class="nav-item"><a href="#" data-page="dashboard" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li class="nav-item"><a href="#" data-page="orders"><i class="fas fa-receipt"></i> Orders</a></li>
            <li class="nav-item"><a href="#" data-page="menu"><i class="fas fa-utensils"></i> Menu</a></li>
            <li class="nav-item"><a href="#" data-page="shop"><i class="fas fa-store"></i> Shop Settings</a></li>
            <li class="nav-item"><a href="#" onclick="handleLogout()"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
        </ul>
    </aside>

    <div class="main-container">
        <header class="main-header">
            <button id="menu-toggle" onclick="toggleMenu()"><i class="fas fa-bars"></i></button>
            <h1 id="page-title">Dashboard</h1>
        </header>
        <main class="main-content">
            <section id="dashboard" class="page active"></section>
            <section id="orders" class="page"></section>
            <section id="menu" class="page"></section>
            <section id="shop" class="page"></section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (sessionStorage.getItem('isAdminLoggedIn') === 'true') {
                initApp();
            }
        });

        // --- AUTH & INITIALIZATION ---
        const handleLogin = () => {
            if (document.getElementById('username').value === 'admin' && document.getElementById('password').value === 'password') {
                sessionStorage.setItem('isAdminLoggedIn', 'true');
                initApp();
            } else {
                alert('Invalid credentials');
            }
        };

        const handleLogout = () => {
            sessionStorage.removeItem('isAdminLoggedIn');
            location.reload();
        };
        
        const initApp = () => {
            document.getElementById('login-overlay').style.display = 'none';
            document.getElementById('sidebar').style.display = 'flex';
            document.querySelector('.main-container').style.display = 'flex';
            
            setupInitialData();
            renderAll();
            
            document.querySelectorAll('.sidebar-nav a').forEach(link => {
                if (link.dataset.page) {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        showPage(link.dataset.page);
                    });
                }
            });
            
            setInterval(() => {
                renderOrders();
                renderDashboard();
            }, 10000);
        };
        
        // --- DATA MANAGEMENT ---
        const getFromStorage = (key, def) => JSON.parse(localStorage.getItem(key)) || def;
        const saveToStorage = (key, data) => localStorage.setItem(key, JSON.stringify(data));
        
        const setupInitialData = () => {
            if (!localStorage.getItem('menuItems')) { saveToStorage('menuItems', [{id:1,name:"Vada Pav",desc:"3 Vada & 4 Pav",price:10,image:"https://i.imgur.com/8a9h2gC.jpeg",available:true}]); }
            if (!localStorage.getItem('shopInfo')) { saveToStorage('shopInfo', {name:"Raman Vada Pav",slogan:"Tasty Food For You",logoCircle:"https://envs.sh/ZYL.jpg/IMG20250918642.jpg",banner:"https://envs.sh/ZY3.jpg/IMG20250918268.jpg",address:"Plot No. 11, Near Amli School, Opp. Vapi, Silvassa, 396230",mapUrl:"https://www.google.com/maps/search/?api=1&query=Plot+No.+11%2C+Near+Amli+School%2C+Opp.+Vapi%2C+Silvassa%2C+396230",openingHours:{monday:{open:"08:00",close:"22:00",closed:false},tuesday:{open:"08:00",close:"22:00",closed:false},wednesday:{open:"08:00",close:"22:00",closed:false},thursday:{open:"08:00",close:"22:00",closed:false},friday:{open:"08:00",close:"22:00",closed:false},saturday:{open:"08:00",close:"22:00",closed:false},sunday:{open:"00:00",close:"00:00",closed:true}}}); }
        };

        // --- UI & NAVIGATION ---
        const toggleMenu = () => {
            document.getElementById('sidebar').classList.toggle('active');
            const overlay = document.getElementById('mobile-menu-overlay');
            overlay.style.display = (overlay.style.display === 'block') ? 'none' : 'block';
        };

        const showPage = (pageId) => {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.sidebar-nav a').forEach(a => a.classList.toggle('active', a.dataset.page === pageId));
            
            const pageName = document.querySelector(`.sidebar-nav a[data-page="${pageId}"]`).textContent;
            document.getElementById('page-title').textContent = pageName;
            
            if (window.innerWidth <= 768 && document.getElementById('sidebar').classList.contains('active')) {
                toggleMenu();
            }
        };

        // --- RENDER FUNCTIONS ---
        const renderAll = () => {
            renderDashboard();
            renderOrdersPage();
            renderMenuPage();
            renderShopSettingsPage();
        };

        const renderDashboard = () => {
            const orders = getFromStorage('orders', []);
            const menuItems = getFromStorage('menuItems', []);
            const newOrdersCount = orders.filter(o => o.status === 0).length;
            const outOfStockCount = menuItems.filter(item => !item.available).length;
            document.getElementById('dashboard').innerHTML = `<div class="stats-grid">
                <div class="stat-card"><i class="fas fa-receipt"></i><h3>${newOrdersCount}</h3><p>New Orders</p></div>
                <div class="stat-card"><i class="fas fa-utensils"></i><h3>${menuItems.length}</h3><p>Total Menu Items</p></div>
                <div class="stat-card"><i class="fas fa-box-open"></i><h3>${outOfStockCount}</h3><p>Items Out of Stock</p></div>
            </div>`;
        };

        const renderOrdersPage = () => {
            document.getElementById('orders').innerHTML = `<div class="card">
                    <div class="card-header">New Orders</div>
                    <div id="new-order-list"></div>
                </div>
                <div class="card">
                    <div class="card-header">Active & Past Orders</div>
                    <div id="active-order-list"></div>
                </div>`;
            renderOrders();
        };
        
        const renderOrders = () => {
            const orders = getFromStorage('orders', []);
            const menuItems = getFromStorage('menuItems', []);
            const statuses = ["Placed", "Accepted", "Preparing", "On its way", "Delivered"];
            const statusClasses = ["placed", "accepted", "preparing", "on-its-way", "delivered"];
            const newOrders = orders.filter(o => o.status === 0);
            const otherOrders = orders.filter(o => o.status > 0).sort((a, b) => b.status - a.status);

            const createOrderCard = (order) => {
                const customer = getFromStorage('userProfile', { name: 'Guest', address: 'N/A' });
                return `<div class="card" style="margin-bottom:15px; border-left: 5px solid var(--primary);">
                    <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid var(--border-color); padding-bottom:10px; margin-bottom:10px;">
                        <div><b>#${order.id.slice(-6)}</b> | ${customer.name}</div>
                        <span class="status-tag status-${statusClasses[order.status]}">${statuses[order.status]}</span>
                    </div>
                    ${order.items.map(item => {
                        const menuItem = menuItems.find(m => m.id === item.id);
                        return `<div style="display:flex; align-items:center; gap:10px; margin-bottom:5px;">
                                <img src="${menuItem?.image || ''}" style="width:40px; height:40px; border-radius:8px; object-fit:cover;">
                                <span>${item.quantity} x ${item.name}</span></div>`;
                    }).join('')}
                    <div class="form-group" style="margin-top:15px; margin-bottom:0;">
                        <select onchange="updateOrderStatus('${order.id}', this.value)" style="padding:8px; border-radius:8px; border:1px solid var(--border-color);">
                        ${statuses.map((s, i) => `<option value="${i}" ${order.status === i ? 'selected' : ''}>${s}</option>`).join('')}</select>
                    </div></div>`;
            };

            const emptyState = (msg) => `<div class="empty-state"><i class="fas fa-inbox"></i><p>${msg}</p></div>`;
            document.getElementById('new-order-list').innerHTML = newOrders.length ? newOrders.map(createOrderCard).join('') : emptyState('No new orders.');
            document.getElementById('active-order-list').innerHTML = otherOrders.length ? otherOrders.map(createOrderCard).join('') : emptyState('No active or past orders.');
        };

        const renderMenuPage = () => {
            document.getElementById('menu').innerHTML = `<div class="card">
                    <div class="card-header">Add / Edit Menu Item</div>
                    <form id="menu-item-form">
                        <input type="hidden" id="menu-item-id">
                        <div class="form-group"><label>Name</label><input type="text" id="item-name" required></div>
                        <div class="form-group"><label>Description</label><textarea id="item-desc" rows="2" required></textarea></div>
                        <div class="form-group"><label>Price (₹)</label><input type="number" id="item-price" required></div>
                        <div class="form-group"><label>Image URL</label><input type="url" id="item-image" required></div>
                        <div class="form-group"><label>Availability</label><select id="item-available"><option value="true">In Stock</option><option value="false">Out of Stock</option></select></div>
                        <button type="submit" class="btn btn-success">Save Item</button> <button type="button" class="btn btn-secondary" onclick="clearMenuForm()">Cancel</button>
                    </form>
                </div>
                <div class="card">
                    <div class="card-header">Current Menu</div>
                    <div id="menu-list" class="stats-grid"></div>
                </div>`;
            renderMenu();
            document.getElementById('menu-item-form').addEventListener('submit', saveMenuItem);
        };
        
        const renderMenu = () => {
            const menuItems = getFromStorage('menuItems', []);
            document.getElementById('menu-list').innerHTML = menuItems.length ? menuItems.map(item => `
                <div class="card">
                    <img src="${item.image}" alt="${item.name}" style="width:100%; height:160px; object-fit:cover; border-radius:8px; margin-bottom:10px;">
                    <h4>${item.name}</h4><p style="font-size:0.9rem; color:var(--gray);">${item.desc}</p>
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-top:10px;">
                        <b style="color:var(--primary);">₹${item.price}</b>
                        <span class="status-tag ${item.available ? 'status-instock' : 'status-outofstock'}">${item.available ? 'In Stock' : 'Out of Stock'}</span>
                    </div>
                    <div style="margin-top:15px; display:flex; gap:10px;">
                        <button class="btn btn-secondary" style="flex:1; padding:8px;" onclick="editMenuItem(${item.id})"><i class="fas fa-edit"></i></button>
                        <button class="btn btn-danger" style="flex:1; padding:8px;" onclick="deleteMenuItem(${item.id})"><i class="fas fa-trash"></i></button>
                    </div></div>`).join('') : `<div class="empty-state"><i class="fas fa-utensils"></i><p>No menu items found. Add one!</p></div>`;
        };

        const renderShopSettingsPage = () => {
            const shopInfo = getFromStorage('shopInfo', {});
            document.getElementById('shop').innerHTML = `<div class="card">
                    <div class="card-header">Shop Information</div>
                    <form id="shop-info-form">
                        <div class="form-group"><label>Shop Name</label><input type="text" id="shop-name" value="${shopInfo.name || ''}" required></div>
                        <div class="form-group"><label>Slogan</label><input type="text" id="shop-slogan" value="${shopInfo.slogan || ''}"></div>
                        <div class="form-group"><label>Header Logo (Circle)</label><input type="url" id="shop-logo-circle" value="${shopInfo.logoCircle || ''}"></div>
                        <div class="form-group"><label>Shop Banner (16:9)</label><input type="url" id="shop-banner" value="${shopInfo.banner || ''}"></div>
                        <div class="form-group"><label>Display Address</label><textarea id="shop-address" rows="2" required>${shopInfo.address || ''}</textarea></div>
                        <div class="form-group"><label>Google Maps URL</label><input type="url" id="shop-map-url" value="${shopInfo.mapUrl || ''}"></div>
                        <button type="submit" class="btn btn-primary">Save Shop Info</button>
                    </form>
                </div>
                <div class="card">
                    <div class="card-header">Opening Hours</div>
                    <form id="opening-hours-form"></form>
                    <button class="btn btn-primary" onclick="saveOpeningHours()" style="margin-top:15px;">Save Hours</button>
                </div>`;
            renderOpeningHoursForm();
            document.getElementById('shop-info-form').addEventListener('submit', saveShopInfo);
        };
        
        const renderOpeningHoursForm = () => {
            const shopInfo = getFromStorage('shopInfo', {});
            const hoursContainer = document.getElementById('opening-hours-form');
            hoursContainer.innerHTML = Object.keys(shopInfo.openingHours || {}).map(day => `
                <div class="form-group" style="display:flex; align-items:center; gap:10px; flex-wrap: wrap;">
                    <label style="flex-basis:100px; text-transform:capitalize;">${day}</label>
                    <input type="time" style="flex:1;" id="${day}-open" value="${shopInfo.openingHours[day].open}" ${shopInfo.openingHours[day].closed ? 'disabled' : ''}>
                    <input type="time" style="flex:1;" id="${day}-close" value="${shopInfo.openingHours[day].close}" ${shopInfo.openingHours[day].closed ? 'disabled' : ''}>
                    <label style="display:flex; align-items:center; gap:5px;"><input type="checkbox" id="${day}-closed" onchange="toggleDay('${day}', this.checked)" ${shopInfo.openingHours[day].closed ? 'checked' : ''}> Closed</label>
                </div>`).join('');
        };
        
        // --- LOGIC FUNCTIONS ---
        const updateOrderStatus = (id, status) => { let o = getFromStorage('orders', []); let i = o.findIndex(x => x.id === id); if (i > -1) { o[i].status = parseInt(status); saveToStorage('orders', o); renderOrders(); renderDashboard() } };
        const saveMenuItem = (e) => { e.preventDefault(); let m = getFromStorage('menuItems', []); let id = document.getElementById('menu-item-id').value; let i = { id: id ? parseInt(id) : Date.now(), name: document.getElementById('item-name').value, desc: document.getElementById('item-desc').value, price: parseFloat(document.getElementById('item-price').value), image: document.getElementById('item-image').value, available: document.getElementById('item-available').value === 'true' }; if (id) { m[m.findIndex(x => x.id === i.id)] = i } else { m.push(i) } saveToStorage('menuItems', m); renderMenu(); renderDashboard(); clearMenuForm() };
        const editMenuItem = (id) => { let i = getFromStorage('menuItems', []).find(x => x.id === id); if (i) { document.getElementById('menu-item-id').value = i.id; document.getElementById('item-name').value = i.name; document.getElementById('item-desc').value = i.desc; document.getElementById('item-price').value = i.price; document.getElementById('item-image').value = i.image; document.getElementById('item-available').value = i.available.toString(); showPage('menu'); document.querySelector('#menu .card').scrollIntoView() } };
        const deleteMenuItem = (id) => { if (confirm('Are you sure you want to delete this item?')) { let m = getFromStorage('menuItems', []).filter(x => x.id !== id); saveToStorage('menuItems', m); renderMenu(); renderDashboard() } };
        const clearMenuForm = () => { document.getElementById('menu-item-form').reset(); document.getElementById('menu-item-id').value = '' };
        const saveShopInfo = (e) => { e.preventDefault(); let s = getFromStorage('shopInfo', {}); s.name = document.getElementById('shop-name').value; s.slogan = document.getElementById('shop-slogan').value; s.logoCircle = document.getElementById('shop-logo-circle').value; s.banner = document.getElementById('shop-banner').value; s.address = document.getElementById('shop-address').value; s.mapUrl = document.getElementById('shop-map-url').value; saveToStorage('shopInfo', s); alert('Shop information saved!') };
        const saveOpeningHours = () => { let s = getFromStorage('shopInfo', {}); Object.keys(s.openingHours).forEach(d => { s.openingHours[d] = { open: document.getElementById(`${d}-open`).value, close: document.getElementById(`${d}-close`).value, closed: document.getElementById(`${d}-closed`).checked } }); saveToStorage('shopInfo', s); alert('Opening hours saved!') };
        const toggleDay = (d, c) => { document.getElementById(`${d}-open`).disabled = c; document.getElementById(`${d}-close`).disabled = c };

    </script>
</body>
</html>
